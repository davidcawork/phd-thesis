\chapter{Planteamiento del problema}
\label{ch:problema}

En este capítulo se sintetizan y consolidan los huecos identificados en el capítulo de Estado del Arte, con el objetivo de transformar las lecciones aprendidas en un planteamiento claro del problema, y marcar una hoja de ruta clara para la Tesis. Para ello, se recogen las conclusiones parciales ya extraídas en las secciones correspondientes: control \textit{in-band} (Sección~\ref{subsec:conclu_inband}), arranque y provisión de canales de control en entornos densos y heterogéneos (Sección~\ref{subsubsec:conclu_etiquetado}), gestión y planificación de recursos (Sección~\ref{subsubsec:conclu_recursos}), optimización y reconfiguración proactiva (Sección~\ref{subsubsec:conclu_opt}), encaminamiento energético y arquitecturas para \gls{ei}/\glspl{prg}/\gls{sg} (Sección~\ref{subsubsec:conclu_sg}) y arquitecturas inteligentes \gls{iiot} (Sección~\ref{subsubsec:conclu_iiot}).\\
\\
A partir de esa revisión consolidada se extraerán las lecciones aprendidas, los huecos comunes, se priorizarán los retos con mayor impacto práctico, pudiendo sentar las bases de la Tesis. Finalmente, este capítulo presenta la estrategia de trabajo propuesta, y como se han organizado las contribuciones de la Tesis en los siguientes capítulos.\\
\\
Las lecciones extraídas de la revisión sistemática del estado del arte muestran un panorama consistente: existen avances metodológicos y prototipos relevantes en control \textit{in-band}, arranque/etiquetado jerárquico, gestión de recursos, optimización proactiva y arquitecturas \gls{iiot}/\gls{sg}, pero la mayoría de estas aportaciones no resuelven de forma conjunta los requerimientos de despliegue en entornos densos y heterogéneos. En todos los dominios examinados emergen huecos comunes que limitan la adopción práctica: falta de soluciones <<agnósticas>> al dataplane y al proveedor, escasez de protocolos \textit{in-band} estandarizados, ausencia de mecanismos de arranque (\textit{bootstrapping}) seguros y ligeros validados a gran escala, carencia de coordinación eficiente entre controladores distribuidos, y validaciones limitadas sobre hardware real o testbeds representativos. Estas carencias son recurrentes y condicionan tanto la viabilidad técnica como la transferencia de resultados a escenarios reales (\gls{iiot}, micro-redes, smart grids).\\
\\
Del análisis por áreas concretas se obtienen conclusiones operativas que permiten priorizar líneas de trabajo. En el ámbito del arranque y provisionamiento de canales de control, el etiquetado jerárquico y las construcciones modo árbol enraizadas emergen como la técnica más prometedora: reducen estado local, permiten encaminamiento con bajo coste y facilitan el diseño de rutas de control compactas. No obstante, muchas propuestas actuales (Torii/\gls{ga3}/eTorii, Amaru, IoTorii, Izzy, etc.) están validadas en topologías homogéneas o en simulación y/o requieren modificaciones del dataplane; pocas consideran nativamente heterogeneidad de enlaces, nodos con recursos muy limitados (a excepción de IoTorii) o escenarios multi-raíz con coordinación entre controladores. En gestión y planificación de recursos, la tensión centralización contra distribución es clave. Los esquemas centralizados facilitan optimización global pero fallan en escalabilidad y resiliencia; los distribuidos ganan en tolerancia y reparto de carga, pero sufren mayor complejidad, tiempos de convergencia más grandes y visibilidad parcial de la red. Aquí el etiquetado jerárquico puede actuar como palanca técnica: al simplificar la topología física a la topología lógica, se reduce señalización y habilita decisiones locales eficientes, lo que hace posibles diseños distribuidos más prácticos. En optimización y reconfiguración proactiva (tanto para \gls{sg} como para redes \gls{iiot}), los enfoques existentes (optimizadores exactos, metaheurísticos y modelos \gls{ai}/\gls{ml}) demuestran potencial, pero tropiezan con problemas reales: modelos no agnósticos (entrenados para una topología concreta), elevada señalización o coste computacional para nodos con recursos limitados, y validaciones insuficientes con datos reales o testbeds. Finalmente, en \gls{iiot} las arquitecturas muestran avances (\textit{edge/fog}, microservicios, federated learning, etc.), pero muchas implementaciones son cerradas o no escalan en despliegues de alta densidad; falta un framework de orquestación que conecte inferencia en tiempo real con reconfiguración automática, y es necesario abordar la autoscalabilidad, latencia y seguridad desde el diseño. En el ámbito del encaminamiento energético y las arquitecturas para el \gls{ei} pone de manifiesto avances relevantes, sin embargo, la mayoría de las propuestas analizadas descansan en optimizaciones estáticas o en soluciones centralizadas, lo que reduce su capacidad de adaptación y escalabilidad frente a escenarios dinámicos; son escasas las aproximaciones que exploten topologías multi-raíz con decisión autónoma a nivel de nodo; no existe consenso sobre criterios de selección de rutas que equilibren simultáneamente minimización de pérdidas, balance local y resiliencia.\\
\\
A partir de esos \textit{gaps}, la hoja de ruta de la Tesis articula unas líneas de investigación concretas, metodológicamente acotadas y alineadas con los dos bloques de objetivos previamente definidos.

\begin{itemize}
    \item En primer lugar, se plantea diseñar y formalizar esquemas de etiquetado jerárquico con las siguientes propiedades: (i) <<agnosticismo>> frente a heterogeneidad de enlace (capacidad/latencia) y a implementaciones de \textit{dataplane legacy}; (ii) mínima o nula necesidad de modificar el hardware/software de reenvío; (iii) soporte para multi-raíz y coordinación eficiente entre controladores distribuidos; (iv) reducción de señalización mediante decisiones locales informadas (posiblemente asistidas por modelos \gls{ai}/\gls{ml} compactos); y (v) capacidad de reconfiguración de la red proactivamente (rutas de respaldo). Estas contribuciones atacan directamente el primer bloque de objetivos, proporcionando los bloques de arranque, encaminamiento y reconfiguración de baja sobrecarga necesarios para operar en topologías reales, densas y heterogéneas.

    \item En segundo lugar, la Tesis investigará estrategias híbridas de gestión y orquestación de recursos que combinen optimización centralizada (cuando la latencia y la capacidad de señalización lo permitan) con decisiones locales ligeras basadas en el etiquetado jerárquico. En la práctica esto implica diseñar protocolos jerárquicos de coordinación, políticas de delegación de decisiones (qué se decide localmente y qué se delega al controlador), y mecanismos de retroalimentación que permitan al plano de control incorporar información sin sobrecargar la red. 

    \item En tercer lugar, la Tesis se plantea diseñar una arquitectura \gls{iiot} inteligente, con marcos de orquestación unificados que integren salidas de inferencia (\gls{ai}/\gls{ml}) en tiempo real de telemetría de los sensores para desencadenar reconfiguraciones dinámicas de red, reubicación de servicios y mantenimiento preventivo. Además, se debe respetar el prototipado abierto y reproducible de microservicios, y pipelines de inferencia con autoescalado. Otro aspecto importante es la evaluación de cuellos de ingestión de datos y la incorporación de mecanismos ligeros de autenticación y trazabilidad de decisiones para proteger el despliegue de la arquitectura. Estas tareas responden a los \textit{gaps} detectados en las arquitecturas \gls{iiot} (ausencia de implementaciones abiertas, carencia de orquestación basada en inferencia en tiempo real, y limitaciones en autoscalado).
\end{itemize}

Metodológicamente, la Tesis combinará análisis teórico, simulación/emulación y prototipado práctico. El plan experimental incluye:

\begin{enumerate}
    \item Validaciones por simulación/emulación en topologías heterogéneas y densas, donde, se emplearán topologías aleatorias, densas, e hiperconectivas. Se hará uso del generador de topologías aleatorias conocido como \gls{brite}~\cite{brite}.

    \item Validación real cuando se tengan las capacidades hardware de llevarlo a cabo.

    \item Experimentos en testbeds representativos. En caso de trabajar  con las \gls{sg}, se emplearán benchmarks \gls{ieee} para feeders. En el caso de despliegues de arquitecturas \gls{iiot}, se empleará el CPD de la universidad para emular la visión continua de factory/edge/cloud. 

\end{enumerate}


En resumen, la Tesis propone una agenda integradora: avanzar en mecanismos prácticos de control \textit{in-band} y etiquetado jerárquico (soporte multi-raíz), desarrollar estrategias de orquestación híbrida que combinen decisión local y optimización global, integrar \gls{ai}/\gls{ml} de forma eficiente y portable para asistencia en la toma de decisiones, y validar todo ello mediante prototipos abiertos y experimentación en escenarios representativos (\gls{iiot}, \gls{sg} y micro-redes). Estas líneas están alineadas de forma directa con los dos grandes bloques de objetivos de la Tesis: (i) profundizar en mecanismos de control para redes programables y su extensión a \gls{iiot} y redes de distribución eléctrica; y (ii) estudiar y construir infraestructuras software de despliegue, monitorización, orquestación y seguridad que permitan la toma de decisiones automáticas y robustas en entornos reales y heterogéneos. Estas lineas de trabajo se presentarán a continuación, de forma secuencial y cronológica (en la medida de lo posible), organizando las propuestas/publicaciones realizadas en diferentes capítulos. 


